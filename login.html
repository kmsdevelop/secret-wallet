<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1, shrink-to-fit=no">
<title>SECRET Wallet</title>
<link rel="stylesheet" href="css/bootstrap/bootstrap.min.css">
<link rel="stylesheet" href="css/login.css">
<link rel="stylesheet" href="css/menu.css">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous"-->


<link rel="stylesheet" href="css/phone/intlTelInput.css">
<script src="js/phone/intlTelInput.js"></script>
<!--script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script-->
<script src="js/jquery/jquery-3.4.1.min.js"></script>
<!--script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script-->
<script src="js/bootstrap/bootstrap.min.js"></script>

<script src="js/pincode/jquery.pinlogin.js"></script>
<link href="css/pincode/jquery.pinlogin.css" rel="stylesheet" type="text/css" />

<style type="text/css">
</style>

</head>
<body>
<script type="text/javascript" src="js/crypto/core.min.js"></script>
<script type="text/javascript" src="js/crypto/sha256.min.js"></script>
<script src="js/wallet-login.js"></script>
<script src="js/wallet-common.js"></script>

<div class="secret-navbar">
    <nav class="navbar navbar-expand-md navbar-light" >
        <!--nav class="navbar navbar-expand-md navbar-light bg-light"-->
        <a href="http://mitmessenger.com" class="navbar-brand">
            <img src="./img/secret-logo.png" height="25" width="170" alt="SECRET">
        </a>
        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse" style="color:#ffffff;background-color: #bbbbbb;" >
            <span class="navbar-toggler-icon" ></span>
        </button>

        <div class="collapse navbar-collapse justify-content-end" id="navbarCollapse" >
            <div class="navbar-nav " style="margin-right: 20px;" >
                <!--a href="#" class="nav-item nav-link active" style="color:#bbbbbb"><i class="fa fa-home fa-lg" aria-hidden="true"></i>&nbsp; Home</a-->
                <!--a href="#" class="nav-item nav-link" style="color:#bbbbbb">공지사항</a-->
                <div class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" style="color:#bbbbbb">Lang</a>
                    <div class="dropdown-menu  dropdown-menu-right" style="color:#ffbbbb">
                        <a href="#" class="dropdown-item" onClick="MyLang('eng');">English</a>
                        <a href="#" class="dropdown-item" onClick="MyLang('kor');">Korea</a>
                        <a href="#" class="dropdown-item" onClick="MyLang('vet');">Vetenam</a>
                    </div>
                </div>
                <div id="user-menu" class="nav-item dropdown" style="display:none;">
                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" style="color:#bbbbbb"><i class="fa fa-user ">@user</i></a>
                    <div class="dropdown-menu  dropdown-menu-right" style="color:#ffbbbb">
                        <a href="#" class="dropdown-item" >Reset Password</a>
                        <a href="#" class="dropdown-item" >Reset PIN</a>
                        <a href="#" class="dropdown-item" onClick="SecretTerms();">Terms and Conditions</a>
                        <hr>
                        <a href="#" class="dropdown-item" >Logout</a>
                    </div>
                </div>

            </div>
            <!--div class="navbar-nav ml-auto">
                <a href="#" class="nav-item nav-link"  style="color:#bbbbbb">Login</a>
            </div-->
        </div>
    </nav>
</div>
<div class="secret-body" style="z-index: 99;">
    <div class="d-flex justify-content-center align-items-center container " style="margin-top:20px;"  >
        <div class="row" >
            <div id="login-canvas" class="panel-login text-center" style="width:360px;">
                <div class="panel-heading" >
                    <div class="row" style="margin-top:10px;margin:5px 5px; text-align: center;" >
                        <div class="col-6" id="login-head">
                            <a href="#" class="active" id="login-form-link" style="color: darkblue;">Login</a>
                        </div>
                        <div class="col-6" id="register-head">
                            <a href="#" id="register-form-link" style="color: darkblue;">Registration</a>
                        </div>
                    </div>
                    <hr>
                </div>
                <div class="panel-body">
                    <div class="row" style="margin:5px 5px;" >
                        <div class="col-12">
                            <div id="login-form" style="display: block;">
                            <!--form id="login-form" action="#" method="post" role="form" style="display: block;"-->
                                <div class="input-group" style="margin-top: 20px;">
                                    <div class="input-group-prepend" >
                                        <span class="input-group-text" >
                                            <span class="fa fa-envelope " style="width:20px;"></span>
                                        </span>                    
                                    </div>
                                    <input type="text" class="form-control" id="email" placeholder="E-mail" value=""  required="required">
                                </div>
                                <div class="input-group" style="margin-top: 20px;">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" >
                                            <span class="fa fa-lock fa-lg " style="width:20px;"></span>
                                        </span>                    
                                    </div>
                                    <input type="password" class="form-control" id="password" placeholder="Password" value=""  required="required">
                                </div>
                                
                                <div class="form-group small " style="margin-top: 10px;">
                                    <div class="row">
                                        <div class="col-6  text-left" >
                                                <label class="checkbox-inline"><input type="checkbox" tabindex="3" name="remember" id="remember" > Remember me</label>
                                        </div>
                                        <div class="col-6 text-right">
                                            <a href="#" class="forgot-password" tabindex="4" onclick="forgot_password();">Forgot password?</a>
                                        </div>
                                    </div>
                                </div>
                                <!--div class="form-group text-left">
                                    <input type="checkbox" tabindex="3" class="" name="remember" id="remember">
                                    <label for="remember"> Remember Me</label>
                                </div-->
                                <!--div class="form-group"-->
                                    <div class="row" style="margin-top:10px;margin:5px 5px;">
                                            <input type="button" name="login-submit" id="login-submit" tabindex="5" class="form-control btn btn-primary" value="Login" onclick="login_user();">
                                    </div>
                                <!--/div-->
                                <!--div class="form-group">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div class="text-center">
                                                <a href="*" tabindex="5" class="forgot-password">Forgot Password?</a>
                                            </div>
                                        </div>
                                    </div>
                                </div-->
                            <!--/form-->
                            </div>
                            <div id="register-form" style="display: none;">
                            <!--form id="register-form" action="register_user(1);" method="post" role="form" style="display: none;"-->
                                <div class="input-group" style="margin-top: 20px;">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <span class="fa fa-user" style="width:20px;"></span>
                                            </span>                    
                                        </div>
                                        <input type="text" class="form-control" id="username" name="name" value=""  placeholder="User name" required="required">
                                    </div>
                                <div class="input-group" style="margin-top: 10px;">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">
                                            <span class="fa fa-envelope" style="width:20px;"></span>
                                        </span>                    
                                    </div>
                                    <input type="text" class="form-control" id="r-email" name="email" value="" placeholder="E-mail" style="font-size:14px;"  required="required">
                                    <div class="input-group-append">
                                        <!--span class="input-group-text">3:00</span-->
                                        <button type="button" class="btn btn-outline-danger" style="margin:0;padding:0;width:50px;text-align:center;font-size:12px;"onclick="check_email();">Check</button>
                                    </div>
                
                                </div>
                                <div class="input-group" style="margin-top: 10px;">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">
                                            <span class="fa fa-phone-square" style="width:20px;"></span>
                                        </span>                    
                                    </div>
                                    <!-- country codes (ISO 3166) and Dial codes. -->
                                    <input type="tel" class="form-control" id="phone" name="phone"  value="" style="width: 270px;" required="required">

                                </div>                            
                                <div class="input-group" style="margin-top: 10px;">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">
                                            <span class="fa fa-lock" style="width:20px;"></span>
                                        </span>                    
                                    </div>
                                    <input type="password" class="form-control" id="r-Password" name="passwd" value="" placeholder="Password" required="required">
                                </div>
                                <div class="input-group" style="margin-top: 10px;margin-bottom: 20px;">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">
                                            <span class="fa fa-lock" style="width:20px;"></span>
                                        </span>                    
                                    </div>
                                    <input type="password" class="form-control" id="confirm-password" placeholder="Confirm password" value=""  required="required">
                                </div>
                                <!--div class="form-group"-->
                                    <div class="row " style="margin-top:10px;margin:5px 5px;">
                                        <input type="button" name="register-submit" id="register-submit" tabindex="4" class="form-control btn btn-primary" value="Next" onclick="register_1step();">
                                    </div>
                                <!--/div-->
                            <!--/form-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<br>
</div>
<footer class="secret-footer fixed-bottom ">

        <!-- Copyright -->
        <div class="footer-copyright text-center py-2" style="z-index: 1;">&nbsp;&nbsp;© 2018 Copyright:
        <a href="http://mitmessenger.com" style="color:#ffffff;">SECRET Messenger</a> <br> ANSON ROAD #23-14S INTERNATIONAL PLAZA SINGAPORE (079903)
        </div>
        <!-- Copyright -->
    
</footer>

<!--footer style="background-color: #000000, color: #ffffff">
	<div class="container">
		<br>
		<div class="row">
			<div class="col-4" ><img src="./images/secret-logo.png" height="28" width="150" alt="SECRET">
			</div>
			<div class="col-8"> <p> 10 ANSON ROAD #23-14S INTERNATIONAL PLAZA SINGAPORE (079903)
										Copyright &copy Stargramco.Ltd. All rights reserved.</p>
			</div>	
			
		</div>
	</div>
</footer-->

<div id="pinModal" class="modal fade pin-container" tabindex="-1" > 
    <div class="modal-dialog" style="margin-top:100px;" >
        <div class="modal-content">
            <div class="modal-header py-1" style = "background-color: #5a7ae6;color:#ffffff; ">
                <label class="modal-title"style = "text-align:center;">Register PIN Number</label>
                <!--button type="button" class="close" data-dismiss="modal">&times;</button-->
                <button type="button" class="close" data-dismiss="modal">
                    <i class="fa fa-sign-out" aria-hidden="false"></i>
                </button>
            </div>
            <div class ="modal-body" >
                <div class="col-sm-10 offset-sm-2" >
                    <i class="fa fa-pencil-square-o" style="font-size:20px;"> Enter 6 DIGIT PIN Code</i>
                </div>
                <div id="registerpin" style="display: flex; justify-content:center;margin-top:5px;"></div>
                <!--div style="margin-left: 30px;">                 
                    <input type="text" id="pincode-input1" width=100%>
                </div--> 
                <br>

                <div class="col-sm-10 offset-sm-2">
                    <i class="fa fa-pencil-square-o" style="font-size:20px;"> Re-Enter PIN code</i>
                </div>
                <!--div style="margin-left: 30px;">                    
                    <input type="text" id="pincode-input2">
                </div-->
                <div id="registerpinretype" style="display: flex; justify-content:center;margin-top:5px;"></div>
            </div>
        </div>
    </div>
</div>  

<!-- Modal HTML -->
<div id="AuthModal" class="modal fade " tabindex="-1" >
    <div class="modal-dialog" style="margin-top:100px;" >
        <div class="modal-content">
            <div class="modal-header py-1" style = "background-color: #5a7ae6;color:#ffffff; ">
                <label class="modal-title"style = "text-align:center;">E-Mail Authentication</label>
                <!--button type="button" class="close" data-dismiss="modal">&times;</button-->
                <button type="button" class="close" data-dismiss="modal">
                    <i class="fa fa-sign-out" aria-hidden="false"></i>
                </button>
            </div>
            <!--div class="modal-body">
                <p> You should authenticate by your email...</p>
                <p class="text-secondary"><small>If you don't authenticate, you cannot use this wallet.</small></p>
            </div-->
            <div class ="modal-body">
                <div class="col-sm-12" style="font-size:20px;">
                    <i class="fa fa-envelope" > E-mail</i>
                </div>
                <div class="col-sm-12 input-group" >
                    <!--div class="input-group-prepend">
                        <span class="input-group-text" >
                            <span class="fa fa-envelope" style="width:10px;font-size:12px;"></span>
                        </span>                    
                    </div-->
                    <input id="r2-email" type="text" class="form-control py-1"  style="font-size:20px;"  placeholder="E-mail" value="" disabled>
                    <div class="input-group-append">
                        <button type="button" class="btn btn-dark" style="width:60px;text-align:center;" onclick="email_auth_send()">Send</button>
                    </div>
                </div>
                <div class="col-sm-12" style="font-size:20px;">
                        <i class="fa fa-pencil-square-o" style="margin-top: 20px;"> Enter your code</i>
                </div>                        
                <div class="col-sm-12 input-group">
                        <input id="r2-code" type="text" class="form-control" placeholder="Enter your code"  style="font-size:20px;" >
                        <div class="input-group-append">
                            <!--span class="input-group-text">3:00</span-->
                            <button type="button" class="btn btn-dark" style="width:60px;text-align:center;"onclick="validated_auth_code();">OK</button>
                        </div>

                </div>
            </div>
            <!--div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" onclick="register_save();">SAVE</button>
            </div-->
        </div>
    </div>
</div>
              

<div id="PasswordResetMail" class="modal fade pin-container" tabindex="-1" > 
    <div class="modal-dialog" style="margin-top:100px;" >
        <div class="modal-content">
            <div class="modal-header py-1" style = "background-color: #5a7ae6;color:#ffffff; ">
                <label class="modal-title"style = "text-align:center;">Forgot password...</label>
                <!--button type="button" class="close" data-dismiss="modal">&times;</button-->
                <button type="button" class="close" data-dismiss="modal">
                    <i class="fa fa-sign-out" aria-hidden="false"></i>
                </button>
            </div>
            <div class ="modal-body" >
                <div class="col-sm-12" style="font-size:14px;">
                    <i class="fa fa-envelope" > E-mail</i>
                </div>
                <div class="col-sm-12 input-group" >
                    <!--div class="input-group-prepend">
                        <span class="input-group-text" >
                            <span class="fa fa-envelope" style="width:10px;font-size:12px;"></span>
                        </span>                    
                    </div-->
                    <input id="reset-password-email" type="text" class="form-control py-1"  style="font-size:20px;background-color: #eceff1 ;"  placeholder="E-mail" value="" >
                    <div class="input-group-append">
                        <button type="button" class="btn btn-outline-primary" style="width:60px;text-align:center;" onclick="email_password_reset()">Send</button>
                    </div>
                </div>
                <div class="col-sm-12" style="font-size:14px;">
                    <i class="fa fa-pencil-square-o" style="margin-top: 10px;"> Enter your temporary password</i>
                </div>

                <div class="col-sm-12 input-group" style="font-size:14px;">
                    <input id="reset-temp-password" type="text" class="form-control" placeholder="Enter your temporary code"  style="font-size:20px;background-color:#eceff1 ;" >
                    <div class="input-group-append">
                        <button type="button" class="btn btn-outline-danger" style="width:60px;text-align:center;" onclick="check_temp_password()">Check</button>
                    </div>
                </div>

                <div class="col-sm-12 " style="font-size:14px;margin-top:20px;">
                    <div>
                        <i class="fa fa-pencil-square-o" style="margin-top: 5px;"> Enter your new password</i>
                    </div>
                    <input id="reset-new-password" type="password" class="form-control" placeholder="Enter your password"  style="font-size:20px;background-color: #ffebee;" >
                </div>
                <div class="col-sm-12 " style="font-size:14px;">
                    <div>
                            <i class="fa fa-pencil-square-o" style="margin-top: 5px;"> Confirm your new password</i>
                    </div>
                    <input id="reset-retype-password" type="password" class="form-control" placeholder="Confirm your password"  style="font-size:20px;background-color: #ffebee;" >
                </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" >Cencel</button>
                <button type="button" class="btn btn-primary" onclick='reset_password();'>Reset Password</button>
            </div>
        </div>
    </div>
</div>   

      
<script>
// menu & form handling
$(document).ready(function(){
// 	$("#modalLRForm").modal('show');
    $("#register-form-link").css('color', 'gray');
    $("#register-head").css('background-color', '#eeeeee');

    $("#login-form-link").css('color', 'white');
    $("#login-head").css('background-color', '#4285F4').css('font-size','20px');
    $("#login-canvas").css('background-color','#FFF');
    if(typeof localStorage.email != 'undefined'){
        $('#email').val(localStorage.email);
        $('#password').val(localStorage.password);
        $("#remember").attr('checked', true) ;
    }
    $("#password").keyup(function(e){if(e.keyCode == 13)  login_user(); });

}); 

//$(function() {

    $('#login-form-link').click(function(e) {
        $("#login-form").delay(100).fadeIn(100);
        $("#register-form").fadeOut(100);
        $('#register-form-link').removeClass('active');
        $(this).addClass('active');
        $("#register-form-link").css('color', 'gray');
        $("#login-form-link").css('color', 'white');
        $("#register-head").css('background-color', '#eeeeee');
        $("#login-head").css('background-color', '#4285F4');
        $("#login-canvas").css('background-color','#FFF'); 
        $("#register-form-link").css('color', 'gray');
        e.preventDefault();
    });
    $('#register-form-link').click(function(e) {
        $("#register-form").delay(100).fadeIn(100);
        $("#login-form").fadeOut(100);
        $('#login-form-link').removeClass('active');
        $(this).addClass('active');
        $("#login-form-link").css('color', 'gray');
        $("#register-form-link").css('color', 'white');
        $("#login-head").css('background-color', '#eeeeee');
        $("#register-head").css('background-color', '#4285F4');
        //$("#register-head").css('background-color', '#1CA347');
        $("#login-canvas").css('background-color','#FFF');
        e.preventDefault();

    });

//});

</script>

<script>
    var input = document.querySelector("#phone");
    window.intlTelInput(input, {
        // allowDropdown: false,
        // autoHideDialCode: false,
        // autoPlaceholder: "off",
        // dropdownContainer: document.body,
        // excludeCountries: ["us"],
        // formatOnDisplay: false,
        // geoIpLookup: function(callback) {
        //   $.get("http://ipinfo.io", function() {}, "jsonp").always(function(resp) {
        //     var countryCode = (resp && resp.country) ? resp.country : "";
        //     callback(countryCode);
        //   });
        // },
        // hiddenInput: "full_number",
        // initialCountry: "auto",
        // localizedCountries: { 'de': 'Deutschland' },
        // nationalMode: false,
        // onlyCountries: ['us', 'gb', 'ch', 'ca', 'do'],
        // placeholderNumberType: "MOBILE",
        preferredCountries: ['kr', 'vn', 'ph', 'us'],
        // separateDialCode: true,
        utilsScript: "js/phone/utils.js",
    });
    //  window.intlTelInputGlobals.loadUtils("js/utils.js");

    var iti = window.intlTelInputGlobals.getInstance(input);

    input.addEventListener("countrychange", function() {
    //  input.addEventListener("close:countrydropdown", function() {

        var numberType = iti.getNumberType();
        var countryData = iti.getSelectedCountryData();
        var dialCode = countryData.dialCode;
        var iso2 = countryData.iso2;
        var name = countryData.name;

        var intlNumber = iti.getNumber();
        var E164number = iti.getNumber(intlTelInputUtils.numberFormat.E164);
        var isValid = iti.isValidNumber();
        console.log("numbertype: ",numberType );
        console.log("countryData: ", countryData.name, countryData.dialCode, countryData.iso2 );
        console.log("intlNumber: ", intlNumber);
        console.log("E164number: ", E164number);
        console.log("isValid: ", isValid);
        sessionStorage.b_dialCode = countryData.dialCode;
    });

</script>

</body>
</html>